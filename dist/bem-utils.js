"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function parseBem(str) {
    const [block, elem] = str.split('__').map(part => {
        const [owner, modName, modVal] = part.split('_');
        let res = {
            name: owner,
        };
        if (modName) {
            if (!modVal) {
                throw new Error('no mod value');
            }
            res = Object.assign({}, res, { modName, modVal });
        }
        return res;
    });
    block.elem = elem || null;
    if (block.modName && block.elem) {
        throw new Error('elems of modded blocks are not allowed');
    }
    return block;
}
exports.parseBem = parseBem;
function stringifyBem(bemObj) {
    let res = bemObj.name;
    if (bemObj.modName) {
        res = [bemObj.name, bemObj.modName, bemObj.modVal].join('_');
    }
    if (bemObj.elem) {
        res = [res, stringifyBem(bemObj.elem)].join('__');
    }
    return res;
}
exports.stringifyBem = stringifyBem;
function bemPath(bemObj) {
    let folderName = '';
    if (bemObj.elem) {
        folderName = '__' + bemObj.elem.name + '/';
        if (bemObj.elem.modName) {
            folderName += '_' + bemObj.elem.modName + '/';
        }
    }
    if (bemObj.modName) {
        folderName = '_' + bemObj.modName + '/';
    }
    return folderName + stringifyBem(bemObj) + '.css';
}
exports.bemPath = bemPath;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVtLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9rLXZpbGdlbG0vdGVtcC9iZW1jc3Mvc3JjLyIsInNvdXJjZXMiOlsiYmVtLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0JBQXlCLEdBQUc7SUFDM0IsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJO1FBQzdDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakQsSUFBSSxHQUFHLEdBQUc7WUFDVCxJQUFJLEVBQUUsS0FBSztTQUNYLENBQUM7UUFDRixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQSxDQUFDO1lBQ1osRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNiLE1BQU0sSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDakMsQ0FBQztZQUNELEdBQUcscUJBQ0MsR0FBRyxJQUNOLE9BQU8sRUFBRSxNQUFNLEdBQ2YsQ0FBQztRQUNILENBQUM7UUFDRCxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ1osQ0FBQyxDQUFDLENBQUM7SUFDSCxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUM7SUFDMUIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqQyxNQUFNLElBQUksS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQUE7SUFDMUQsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDZCxDQUFDO0FBdEJELDRCQXNCQztBQUVELHNCQUE2QixNQUFNO0lBQ2xDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDdEIsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDcEIsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUNELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDRCxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ1osQ0FBQztBQVRELG9DQVNDO0FBRUQsaUJBQXdCLE1BQU07SUFDN0IsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLFVBQVUsR0FBRyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUN6QixVQUFVLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQTtRQUM5QyxDQUFDO0lBQ0YsQ0FBQztJQUNELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLFVBQVUsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7SUFDekMsQ0FBQztJQUNELE1BQU0sQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUNuRCxDQUFDO0FBWkQsMEJBWUMifQ==